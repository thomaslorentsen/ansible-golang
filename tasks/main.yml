---
- stat:
    path: /usr/local/go/bin/go
  register: go_installed
  tags:
    - golang

- name: download package
  get_url:
    url: "{{ go_binary }}"
    dest: /tmp/go1.8.linux-amd64.tar.gz
  when: go_installed.stat.exists == false
  tags:
    - golang

- name: extract go package
  unarchive:
    src: /tmp/go1.8.linux-amd64.tar.gz
    dest: /usr/local/
    remote_src: yes
  when: go_installed.stat.exists == false
  tags:
    - golang

- name: make go executable
  file:
    path: /usr/local/go/bin/go
    mode: a+x
  tags:
    - golang

- name: link to binary
  file:
    path: /usr/local/bin/go
    src: /usr/local/go/bin/go
    state: link
  tags:
    - golang
...